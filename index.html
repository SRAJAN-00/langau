<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>French Plurals (Pluriels) - Learning Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      :root {
        /* Original warm color scheme */
        --primary-color: #2563eb;
        --accent-color: #3b82f6;
        --text-primary: #3d2817;
        --text-secondary: #5d4a3a;
        --text-tertiary: #9ca3af;
        --text-marron: #5b342e;
        --bg-primary: #f9f5f0;
        --bg-secondary: #f3ede6;
        --bg-card: #ffffff;
        --border-color: #e5e7eb;
        --hover-bg: #f9fafb;
        --bg-neutral: #f9fafb;

        /* Improved shadows */
        --border-radius: 16px;
        --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
        --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);

        --header-color: #ffa90a;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          "DM Sans",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          sans-serif;
        line-height: 1.7;
        color: var(--text-primary);
        background: var(--bg-primary);
        min-height: 100vh;
        padding: 0;
        font-weight: 400;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
      }

      .container {
        margin: 0 auto;
        background: transparent;
        padding: 0 20px;
        max-width: 1200px;
      }

      header {
        padding: 80px 40px 60px;
        text-align: left;
        border-bottom: none;
        background: transparent;
        position: relative;
        margin-bottom: 20px;
      }

      header h1 {
        font-size: 3rem;
        margin-bottom: 16px;
        font-weight: 700;
        letter-spacing: -0.03em;
        color: var(--text-primary);
        line-height: 1.2;
      }

      .subtitle {
        font-size: 1.2rem;
        color: var(--text-secondary);
        font-weight: 400;
        max-width: 600px;
        line-height: 1.6;
      }

      section {
        padding: 50px 40px;
        border-bottom: none;
        margin-bottom: 20px;
      }

      h2 {
        font-size: 1.75rem;
        margin-bottom: 36px;
        color: var(--text-marron);
        font-weight: 700;
        letter-spacing: -0.02em;
        text-align: left;
        position: relative;
        padding-bottom: 12px;
      }

      h2::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 60px;
        height: 4px;
        background: var(--header-color);
        border-radius: 2px;
      }

      h3 {
        font-size: 1.3rem;
        margin-bottom: 20px;
        color: var(--text-primary);
        font-weight: 600;
        letter-spacing: -0.01em;
      }

      h4 {
        font-size: 1rem;
        margin-bottom: 12px;
        color: var(--text-primary);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        font-size: 0.85rem;
      }

      p {
        margin-bottom: 16px;
        color: var(--text-secondary);
        line-height: 1.7;
        font-size: 1rem;
      }

      .info-box {
        background: var(--bg-card);
        box-shadow: var(--shadow-md);
        padding: 28px;
        border-radius: var(--border-radius);
        margin-bottom: 28px;
        border: 1px solid var(--border-color);
      }

      .tip-box {
        background: #eff6ff;
        border-left: 4px solid var(--primary-color);
      }

      .note-box {
        background: #ffffff;
      }

      .exception-box {
        background: #fee2e2;
        border-left: 4px solid #ef4444;
      }

      .highlight {
        background: #fef3c7;
        padding: 12px 16px;
        font-weight: 500;
        border-radius: 12px;
        display: inline-block;
        box-shadow: var(--shadow-sm);
        border: 1px solid #fbbf24;
      }

      ul {
        margin-left: 24px;
        margin-bottom: 20px;
      }

      li {
        margin-bottom: 10px;
        color: var(--text-secondary);
      }

      .table-responsive {
        overflow-x: auto;
        margin: 32px 0;
        -ms-overflow-style: none;
        scrollbar-width: none;
        border-radius: 15px;
      }

      .table-responsive::-webkit-scrollbar {
        display: none;
      }

      table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background: var(--bg-card);
        border: none;
        border-radius: var(--border-radius);
        overflow: hidden;
        box-shadow: var(--shadow-md);
      }

      thead {
        background: hsl(39, 100%, 66%);
        border-bottom: none;
      }

      thead tr:first-child th:first-child {
        border-top-left-radius: 12px;
      }

      thead tr:first-child th:last-child {
        border-top-right-radius: 12px;
      }

      tbody tr:last-child td:first-child {
        border-bottom-left-radius: 12px;
      }

      tbody tr:last-child td:last-child {
        border-bottom-right-radius: 12px;
      }

      td {
        padding: 20px 24px;
        border-bottom: 1px solid var(--border-color);
        border-right: 1px solid var(--border-color);
        color: var(--text-secondary);
        font-size: 1rem;
        vertical-align: middle;
        text-align: center;
      }

      td:last-child {
        border-right: none;
      }

      th {
        padding: 20px 24px;
        text-align: center;
        font-weight: 600;
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--text-primary);
        border-right: 1px solid rgba(255, 255, 255, 0.3);
      }

      th:last-child {
        border-right: none;
      }

      .audio-cell {
        width: 40px;
        padding: 8px;
        text-align: center;
      }

      .french-word {
        display: inline-block;
        min-width: 120px;
      }

      tbody tr:nth-child(odd) {
        background: #fffbeb;
      }

      tbody tr:nth-child(even) {
        background: white;
      }

      tbody tr:last-child td {
        border-bottom: none;
      }

      .audio-btn {
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 0;
        cursor: pointer;

        transition: all 0.2s ease;
        font-size: 0.85rem;
        margin: 2px;
      }

      .audio-btn:first-child {
        margin-left: 0;
      }

      td:has(.audio-btn) {
        white-space: nowrap;
      }

      .audio-btn:active {
        transform: scale(0.95);
      }

      .audio-btn i {
        pointer-events: none;
      }

      .audio-btn-inline {
        background: transparent;
        color: #ec4899;
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 0.9rem;
        vertical-align: middle;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .audio-btn-inline:hover {
        color: #db2777;
        transform: scale(1.15);
      }

      .audio-btn-inline:active {
        transform: scale(0.95);
      }

      .audio-btn-inline i {
        pointer-events: none;
      }

      td {
        display: table-cell;
        vertical-align: middle;
      }

      .rules-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 16px;
        margin: 32px 0;
      }

      .rule-btn {
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 4px;
        padding: 24px 16px;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 12px;
        font-family: inherit;
      }

      .rule-btn:hover {
        border-color: var(--primary-color);
        background: var(--bg-secondary);
      }

      .rule-number {
        width: 40px;
        height: 40px;
        background: var(--primary-color);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.1rem;
        font-weight: 600;
      }

      .rule-title {
        font-size: 0.85rem;
        font-weight: 500;
        color: var(--text-secondary);
        text-align: center;
        line-height: 1.4;
      }

      .rule-section {
        display: block;
        padding: 40px 40px;
        border-bottom: 1px solid var(--border-color);
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .rule-card {
        background: var(--bg-card);
        padding: 32px;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border-color);
      }

      .rule-badge {
        background: var(--text-primary);
        color: white;
        padding: 8px 20px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 700;
        margin-right: 12px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        display: inline-block;
      }

      .rule-description {
        font-size: 1rem;
        color: var(--text-secondary);
        margin-bottom: 24px;
        font-weight: 400;
      }

      .next-btn {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 16px 40px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        margin-top: 40px;
        font-family: inherit;
        border-radius: 12px;
        box-shadow: 0 4px 16px rgba(37, 99, 235, 0.3);
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .next-btn:hover {
        background: var(--accent-color);
      }

      .next-btn:active {
        transform: translateY(1px);
      }

      .examples-section {
        background: var(--bg-primary);
      }

      .summary-section {
        background: var(--bg-secondary);
      }

      .agreement-section {
        background: var(--bg-primary);
      }

      .note-text {
        font-style: normal;
        color: var(--text-tertiary);
        margin-top: 24px;
        padding: 20px;
        background: var(--bg-secondary);
        border-radius: 0;
        font-size: 0.9rem;
        border-left: 2px solid var(--border-color);
      }

      footer {
        background: var(--text-primary);
        color: white;
        text-align: center;
        padding: 60px 40px;
        font-size: 0.9rem;
        border-top: none;
      }

      footer p {
        margin: 0;
        color: white;
        font-weight: 400;
        letter-spacing: 0.05em;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          padding: 60px 24px 40px;
        }

        header h1 {
          font-size: 2rem;
        }

        section {
          padding: 40px 24px;
        }

        h2 {
          font-size: 1.5rem;
        }

        .rules-grid {
          grid-template-columns: 1fr;
          gap: 8px;
        }

        .rule-section {
          padding: 40px 24px;
        }

        table {
          font-size: 0.9rem;
        }

        th,
        td {
          padding: 12px 8px;
        }
      }

      @media (max-width: 480px) {
        header {
          padding: 40px 20px 30px;
        }

        header h1 {
          font-size: 1.75rem;
        }

        .subtitle {
          font-size: 1rem;
        }

        section {
          padding: 32px 20px;
        }

        .rule-section {
          padding: 32px 20px;
        }

        table {
          font-size: 0.85rem;
        }

        th,
        td {
          padding: 10px 6px;
          font-size: 0.8rem;
        }
      }

      /* Additional Styles */
      strong {
        font-weight: 600;
        color: var(--text-primary);
      }

      em {
        font-style: italic;
        color: var(--text-secondary);
      }

      /* Print Styles */
      @media print {
        body {
          background: white;
          padding: 0;
        }

        .container {
          box-shadow: none;
        }

        .rule-btn {
          page-break-inside: avoid;
        }

        .rule-section {
          display: block !important;
          page-break-before: always;
        }
      }

      /* Smooth transitions */
      a {
        color: var(--accent-color);
        text-decoration: none;
        transition: color 0.2s ease;
      }

      a:hover {
        color: var(--primary-color);
      }

      button {
        outline: none;
      }

      button:focus {
        outline: 2px solid var(--primary-color);
        outline-offset: 2px;
      }

      /* Active rule button state */
      .rule-btn.active {
        background: var(--primary-color);
        border-color: var(--primary-color);
      }

      .rule-btn.active .rule-number {
        background: white;
        color: var(--primary-color);
      }

      .rule-btn.active .rule-title {
        color: white;
      }

      /* French text with translation tooltips */
      .french-text {
        position: relative;
        cursor: help;
        border-bottom: none;
        transition: all 0.2s ease;
      }

      .french-text:hover {
        color: var(--primary-color);
      }

      .tooltip {
        visibility: hidden;
        opacity: 0;
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%) translateY(-5px);
        background: var(--text-primary);
        color: white;
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 0.85rem;
        white-space: nowrap;
        z-index: 1000;
        pointer-events: none;
        transition: all 0.2s ease;
        font-weight: 500;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .tooltip::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        border: 6px solid transparent;
        border-top-color: var(--text-primary);
      }

      .french-text:hover .tooltip {
        visibility: visible;
        opacity: 1;
        transform: translateX(-50%) translateY(-8px);
      }

      /* Theme Toggle Button */
      .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
        border-radius: 8px;
        background: transparent;
        color: var(--text-primary);
        border: 2px solid var(--text-secondary);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.1rem;
        transition: all 0.2s ease;
        z-index: 9999;
      }

      .theme-toggle:hover {
        background: var(--text-primary);
        color: white;
        border-color: var(--text-primary);
      }

      .theme-toggle:active {
        transform: scale(0.95);
      }

      /* Light Mode Theme */
      body.light-mode {
        --bg-primary: #ffffff;
        --bg-secondary: #f3f4f6;
      }

      body.light-mode .theme-toggle {
        border: none;
      }

      body.light-mode .theme-toggle:hover {
        border: none;
      }

      /* Dark Mode Theme */
      body.dark-mode {
        --bg-primary: #1a1a1a;
        --bg-secondary: #2d2d2d;
        --text-primary: #e5e5e5;
        --text-secondary: #b0b0b0;
        --border-color: #404040;
        --hover-bg: #2d2d2d;
      }

      body.dark-mode section {
        background-color: #1a1a1a;
      }

      body.dark-mode .theme-toggle {
        border: 1px solid var(--text-secondary);
      }

      body.dark-mode .theme-toggle:hover {
        background: var(--text-primary);
        color: #1a1a1a;
        border-color: var(--text-primary);
      }

      body.dark-mode table {
        background: #2d2d2d;
      }

      body.dark-mode th {
        background-color: #3a3a3a !important;
      }

      body.dark-mode tr:nth-child(even) {
        background-color: #252525 !important;
      }

      body.dark-mode tr:nth-child(odd) {
        background-color: #2d2d2d !important;
      }

      body.dark-mode .tip-box,
      body.dark-mode .note-box,
      body.dark-mode .exception-box {
        background-color: #2a2a3a;
        border-left-color: #4a90e2;
      }

      body.dark-mode .highlight-section {
        background-color: #252525;
      }
    </style>
  </head>
  <body>
    <button class="theme-toggle" id="themeToggle" title="Toggle reading mode">
      <i class="fas fa-adjust"></i>
    </button>
    <div class="container">
      <header>
        <h1>üá´üá∑ French Plurals (Pluriels)</h1>
        <p class="subtitle">Master the art of making French nouns plural</p>
      </header>

      <section class="intro-section">
        <div class="info-box">
          <h2>Introduction</h2>
          <p>
            In English, making plurals is usually very simple. Most of the time,
            you just add an -s, like <em>cat</em> becoming <em>cats</em>.
          </p>
          <p>
            In French, most nouns also form the plural by adding an -s, but
            there are a few important things to notice. The pronunciation often
            does not change. For example, <strong>chat</strong> and
            <strong>chats</strong> sound the same. This means you often
            <em>see</em> the plural more than you <em>hear</em> it.
          </p>
          <p>
            You also need to remember to change the article when a noun becomes
            plural:
          </p>
          <ul>
            <li>
              <strong>un chat</strong>
              <strong>des chats</strong>
            </li>
            <li>
              <strong>la table</strong>
              <strong>les tables</strong>
            </li>
          </ul>
          <p class="highlight">
            So, in French, plural forms are mostly about spelling and using the
            correct article, not always about how the word sounds. Paying
            attention to these small letters is very important in French.
          </p>
        </div>
      </section>

      <section class="examples-section">
        <h2>Quick Examples</h2>
        <div class="table-responsive">
          <table class="examples-table">
            <thead>
              <tr class="col-header">
                <th>French Singular</th>
                <th>French Plural</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <span class="french-word">un chat</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('un chat')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
                <td>
                  <span class="french-word">des chats</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('des chats')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="french-word">une pomme</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('une pomme')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
                <td>
                  <span class="french-word">des pommes</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('des pommes')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="french-word">le livre</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('le livre')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
                <td>
                  <span class="french-word">les livres</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('les livres')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="french-word">la table</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('la table')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
                <td>
                  <span class="french-word">les tables</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('les tables')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="french-word">un cheval</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('un cheval')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
                <td>
                  <span class="french-word">des chevaux</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('des chevaux')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>
                  <span class="french-word">la maison</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('la maison')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
                <td>
                  <span class="french-word">les maisons</span>
                  <button
                    class="audio-btn-inline"
                    onclick="speakFrench('les maisons')"
                    title="Play audio"
                  >
                    <i class="fas fa-volume-up"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <div id="rule-1" class="rule-section active">
        <div class="rule-card">
          <h3>
            <span class="rule-badge">Rule 1</span> Most nouns form the plural by
            adding "-s"
          </h3>
          <p class="rule-description">
            Just add <strong>‚Äìs</strong> to the end of the word.
          </p>

          <div class="table-responsive">
            <table class="rule-table">
              <thead>
                <tr>
                  <th>French Singular</th>
                  <th>French Plural</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <span class="french-word">un chat</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('un chat')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">des chats</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('des chats')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">une pomme</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('une pomme')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">des pommes</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('des pommes')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">le livre</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('le livre')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">les livres</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('les livres')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">la table</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('la table')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">les tables</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('les tables')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-box tip-box">
            <h4>üí° Key Points</h4>
            <p>
              See those <strong>"les"</strong> and
              <strong>"des"</strong> popping up everywhere? It's simple. When a
              noun becomes plural, <em>le</em> and <em>la</em> change to
              <strong>les</strong>, and <em>un</em> and <em>une</em> become
              <strong>des</strong>. That's all there is to it.
            </p>
            <p>
              Your definite and indefinite articles have simply become plural.
            </p>
          </div>

          <div class="info-box note-box">
            <h4>üìù Note: Liaison</h4>
            <p>
              The final <strong>-s</strong> in plural nouns is usually silent
              when speaking. However, when a plural word ending in a silent -s
              is followed by a word that begins with a vowel (a, e, i, o, u, y)
              or a silent "h", a sound link can happen. This is called
              <strong>liaison</strong>.
            </p>
            <p>
              In liaison, the silent -s is pronounced like a
              <strong>z</strong> sound to connect the words smoothly.
            </p>
            <ul>
              <li>
                <strong>Les</strong> = "lay" ‚Üí with liaison: "lay-z"
                <button
                  class="audio-btn-inline"
                  onclick="speakFrench('Les amis')"
                  title="Play audio"
                >
                  <i class="fas fa-volume-up"></i>
                </button>
              </li>
              <li>
                <strong>Mes</strong> = "may" ‚Üí with liaison: "may-z"
                <button
                  class="audio-btn-inline"
                  onclick="speakFrench('Mes enfants')"
                  title="Play audio"
                >
                  <i class="fas fa-volume-up"></i>
                </button>
              </li>
              <li>
                <strong>Des</strong> = "day" ‚Üí with liaison: "day-z"
                <button
                  class="audio-btn-inline"
                  onclick="speakFrench('Des id√©es')"
                  title="Play audio"
                >
                  <i class="fas fa-volume-up"></i>
                </button>
              </li>
            </ul>

            <div class="table-responsive">
              <table class="liaison-table">
                <thead>
                  <tr>
                    <th>Singular Form</th>
                    <th>Plural Phrase (with liaison)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>L'ami</td>
                    <td>
                      <span class="french-word">Les amis</span>
                      <button
                        class="audio-btn-inline"
                        onclick="speakFrench('Les amis')"
                        title="Play audio"
                      >
                        <i class="fas fa-volume-up"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>Mon enfant</td>
                    <td>
                      <span class="french-word">Mes enfants</span>
                      <button
                        class="audio-btn-inline"
                        onclick="speakFrench('Mes enfants')"
                        title="Play audio"
                      >
                        <i class="fas fa-volume-up"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>Une id√©e</td>
                    <td>
                      <span class="french-word">Des id√©es</span>
                      <button
                        class="audio-btn-inline"
                        onclick="speakFrench('Des id√©es')"
                        title="Play audio"
                      >
                        <i class="fas fa-volume-up"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>Le village</td>
                    <td>
                      <span class="french-word">Les villages</span>
                      <button
                        class="audio-btn-inline"
                        onclick="speakFrench('Les villages')"
                        title="Play audio"
                      >
                        <i class="fas fa-volume-up"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>Le chapeau</td>
                    <td>
                      <span class="french-word">Les chapeaux</span>
                      <button
                        class="audio-btn-inline"
                        onclick="speakFrench('Les chapeaux')"
                        title="Play audio"
                      >
                        <i class="fas fa-volume-up"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div id="rule-2" class="rule-section">
        <div class="rule-card">
          <h3>
            <span class="rule-badge">Rule 2</span> Nouns ending in -s, -x, or -z
            stay the same
          </h3>
          <p class="rule-description">
            No change in spelling; they already look plural.
          </p>

          <div class="table-responsive">
            <table class="rule-table">
              <thead>
                <tr>
                  <th>Singular Phrase</th>
                  <th>Plural Form</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <span class="french-word">Un choix</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un choix')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des choix</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des choix')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un nez</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un nez')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des nez</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des nez')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un fils</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un fils')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des fils</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des fils')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-box tip-box">
            <h4>üí° Remember</h4>
            <p>
              Only the article shows the plural form. The noun itself remains
              unchanged!
            </p>
          </div>
        </div>
      </div>

      <div id="rule-3" class="rule-section">
        <div class="rule-card">
          <h3>
            <span class="rule-badge">Rule 3</span> Nouns ending in -eau, -au, or
            -eu add "x"
          </h3>
          <p class="rule-description">Add <strong>‚Äìx</strong> instead of ‚Äìs.</p>

          <div class="table-responsive">
            <table class="rule-table">
              <thead>
                <tr>
                  <th>Singular Phrase</th>
                  <th>Plural Form</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <span class="french-word">Un tableau</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un tableau')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des tableaux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des tableaux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un g√¢teau</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un g√¢teau')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des g√¢teaux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des g√¢teaux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un jeu</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un jeu')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des jeux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des jeux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-box exception-box">
            <h4>‚ö†Ô∏è Exceptions</h4>
            <p>Some nouns just add -s instead:</p>
            <ul>
              <li><strong>bleu</strong> ‚Üí <strong>bleus</strong></li>
              <li><strong>pneu</strong> ‚Üí <strong>pneus</strong></li>
            </ul>
          </div>
        </div>
      </div>

      <div id="rule-4" class="rule-section">
        <div class="rule-card">
          <h3>
            <span class="rule-badge">Rule 4</span> Nouns ending in -al change to
            -aux
          </h3>
          <p class="rule-description">
            Replace <strong>-al</strong> with <strong>-aux</strong>.
          </p>

          <div class="table-responsive">
            <table class="rule-table">
              <thead>
                <tr>
                  <th>Singular Phrase</th>
                  <th>Plural Form</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <span class="french-word">Un animal</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un animal')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des animaux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des animaux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un journal</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un journal')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>
                    <span class="french-word">Des journaux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des journaux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-box exception-box">
            <h4>‚ö†Ô∏è Exceptions</h4>
            <p>Some nouns just add -s:</p>
            <ul>
              <li>
                <strong>un festival</strong> ‚Üí <strong>des festivals</strong>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div id="rule-5" class="rule-section">
        <div class="rule-card">
          <h3>
            <span class="rule-badge">Rule 5</span> Seven nouns ending in -ou
            change to -oux
          </h3>
          <p class="rule-description">
            Most other -ou nouns just take a regular -s in plural. These are the
            <strong>7 exceptions</strong> in French where -ou becomes -oux in
            the plural.
          </p>

          <div class="table-responsive">
            <table class="rule-table special-table">
              <thead>
                <tr>
                  <th>Singular Phrase</th>
                  <th>Meaning</th>
                  <th>Plural Form</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <span class="french-word">Un bijou</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un bijou')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>a jewel / jewellery</td>
                  <td>
                    <span class="french-word">Des bijoux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des bijoux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un caillou</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un caillou')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>a pebble</td>
                  <td>
                    <span class="french-word">Des cailloux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des cailloux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un chou</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un chou')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>a cabbage</td>
                  <td>
                    <span class="french-word">Des choux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des choux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un genou</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un genou')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>a knee</td>
                  <td>
                    <span class="french-word">Des genoux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des genoux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un hibou</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un hibou')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>an owl</td>
                  <td>
                    <span class="french-word">Des hiboux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des hiboux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un joujou</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un joujou')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>a toy</td>
                  <td>
                    <span class="french-word">Des joujoux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des joujoux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>
                    <span class="french-word">Un pou</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Un pou')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                  <td>a louse</td>
                  <td>
                    <span class="french-word">Des poux</span>
                    <button
                      class="audio-btn-inline"
                      onclick="speakFrench('Des poux')"
                      title="Play audio"
                    >
                      <i class="fas fa-volume-up"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="info-box tip-box">
            <h4>üí° Memory Tip</h4>
            <p>
              Remember these 7 special words! All other -ou words just add a
              regular -s.
            </p>
          </div>
        </div>
      </div>

      <section class="summary-section">
        <h2>Summary of All Rules</h2>
        <div class="table-responsive">
          <table class="summary-table">
            <thead>
              <tr>
                <th>Rule</th>
                <th>Main Idea</th>
                <th>Examples</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Rule 1</strong></td>
                <td>Most nouns form the plural by adding -s</td>
                <td>chat ‚Üí chats<br />pomme ‚Üí pommes<br />livre ‚Üí livres</td>
                <td>
                  The final -s is silent. Articles change to <em>les</em> and
                  <em>des</em>. Liaison appears before vowels.
                </td>
              </tr>
              <tr>
                <td><strong>Rule 2</strong></td>
                <td>Nouns ending in -s, -x, or -z do not change</td>
                <td>choix ‚Üí choix<br />nez ‚Üí nez<br />fils ‚Üí fils</td>
                <td>Only the article shows the plural form.</td>
              </tr>
              <tr>
                <td><strong>Rule 3</strong></td>
                <td>Nouns ending in -eau, -au, or -eu add -x</td>
                <td>
                  tableau ‚Üí tableaux<br />g√¢teau ‚Üí g√¢teaux<br />jeu ‚Üí jeux
                </td>
                <td>The -x is silent. A few exceptions add -s.</td>
              </tr>
              <tr>
                <td><strong>Rule 4</strong></td>
                <td>Nouns ending in -al change to -aux</td>
                <td>animal ‚Üí animaux<br />journal ‚Üí journaux</td>
                <td>Some exceptions add -s, such as festival ‚Üí festivals.</td>
              </tr>
              <tr>
                <td><strong>Rule 5</strong></td>
                <td>Seven nouns ending in -ou change to -oux</td>
                <td>bijou ‚Üí bijoux<br />chou ‚Üí choux<br />genou ‚Üí genoux</td>
                <td>Most other -ou nouns take a regular -s.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="agreement-section">
        <div class="info-box">
          <h2>What Else Changes with Plural Nouns?</h2>
          <p>
            For now, just remember this: in French, when a noun is plural, some
            other words linked to it are usually plural too. These include
            articles (like <em>les</em>), adjectives (like <em>grands</em>),
            verbs (like <em>jouent</em>), demonstratives (like <em>ces</em>),
            and possessives (like <em>mes</em>).
          </p>

          <div class="table-responsive">
            <table class="agreement-table">
              <thead>
                <tr>
                  <th>Element</th>
                  <th>French</th>
                  <th>English Translation</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Definite article</td>
                  <td>les chats</td>
                  <td>the cats</td>
                </tr>
                <tr>
                  <td>Indefinite article</td>
                  <td>des livres</td>
                  <td>(some) books</td>
                </tr>
                <tr>
                  <td>Partitive article</td>
                  <td>des fruits</td>
                  <td>(some) fruits</td>
                </tr>
                <tr>
                  <td>Adjective</td>
                  <td>grandes maisons</td>
                  <td>big houses</td>
                </tr>
                <tr>
                  <td>Verb (subject-verb)</td>
                  <td>les enfants jouent</td>
                  <td>the children are playing</td>
                </tr>
                <tr>
                  <td>Demonstrative adjective</td>
                  <td>ces chaises</td>
                  <td>these chairs</td>
                </tr>
                <tr>
                  <td>Possessive adjective</td>
                  <td>ses amis</td>
                  <td>his/her friends</td>
                </tr>
                <tr>
                  <td>Pronoun (subject or obj)</td>
                  <td>ils parlent, je les vois</td>
                  <td>they are speaking, I see them</td>
                </tr>
                <tr>
                  <td>√† / de contractions</td>
                  <td>aux filles, des gar√ßons</td>
                  <td>to the girls, (some) boys</td>
                </tr>
              </tbody>
            </table>
          </div>

          <p class="note-text">
            You do not need to master all of this right now. You will learn
            these rules step by step as you continue learning French. This note
            is only to keep you informed so you know what is coming later.
          </p>
        </div>
      </section>

      <footer>
        <p>
          Keep practicing and soon French plurals will become second nature! üéâ
        </p>
      </footer>
    </div>

    <script>
      // Theme Toggle Function
      function toggleTheme() {
        const body = document.body;
        const currentTheme = localStorage.getItem("theme") || "warm";

        // Remove all theme classes first
        body.classList.remove("light-mode", "dark-mode");

        // Cycle through themes: warm ‚Üí light ‚Üí dark ‚Üí warm
        if (currentTheme === "warm") {
          body.classList.add("light-mode");
          localStorage.setItem("theme", "light");
        } else if (currentTheme === "light") {
          body.classList.add("dark-mode");
          localStorage.setItem("theme", "dark");
        } else {
          // dark mode, go back to warm
          localStorage.setItem("theme", "warm");
        }
      }

      // Rule navigation function
      function showRule(ruleNumber) {
        // Hide all rule sections
        const allRules = document.uickuerySelectorAll(".rule-section");
        allRules.forEach((rule) => {
          rule.classList.remove("active");
        });

        // Show the selected rule
        const selectedRule = document.getElementById(`rule-${ruleNumber}`);
        if (selectedRule) {
          selectedRule.classList.add("active");
          selectedRule.scrollIntoView({ behavior: "smooth", block: "start" });
        }

        // Update button states
        const allButtons = document.querySelectorAll(".rule-btn");
        allButtons.forEach((btn, index) => {
          if (index + 1 === ruleNumber) {
            btn.classList.add("active");
          } else {
            btn.classList.remove("active");
          }
        });
      }

      // Text-to-Speech function for French words
      function speakFrench(text) {
        // Cancel any ongoing speech
        window.speechSynthesis.cancel();

        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = "fr-FR"; // French language
        utterance.rate = 0.8; // Slightly slower for learning
        utterance.pitch = 1;
        utterance.volume = 1;

        // Try to use a French voice if available
        const voices = window.speechSynthesis.getVoices();
        const frenchVoice = voices.find((voice) => voice.lang.startsWith("fr"));
        if (frenchVoice) {
          utterance.voice = frenchVoice;
        }

        window.speechSynthesis.speak(utterance);
      }

      // Load voices (some browsers need this)
      window.speechSynthesis.onvoiceschanged = function () {
        window.speechSynthesis.getVoices();
      };

      // Translation dictionary for French to English
      const translations = {
        "un chat": "a cat",
        "des chats": "cats",
        "une pomme": "an apple",
        "des pommes": "apples",
        "le livre": "the book",
        "les livres": "the books",
        "la table": "the table",
        "les tables": "the tables",
        "un cheval": "a horse",
        "des chevaux": "horses",
        "la maison": "the house",
        "les maisons": "the houses",
        "un choix": "a choice",
        "des choix": "choices",
        "un nez": "a nose",
        "des nez": "noses",
        "un fils": "a son",
        "des fils": "sons",
        "un tableau": "a painting/board",
        "des tableaux": "paintings/boards",
        "un g√¢teau": "a cake",
        "des g√¢teaux": "cakes",
        "un jeu": "a game",
        "des jeux": "games",
        "un animal": "an animal",
        "des animaux": "animals",
        "un journal": "a newspaper",
        "des journaux": "newspapers",
        "un bijou": "a jewel",
        "des bijoux": "jewels",
        "un caillou": "a pebble",
        "des cailloux": "pebbles",
        "un chou": "a cabbage",
        "des choux": "cabbages",
        "un genou": "a knee",
        "des genoux": "knees",
        "un hibou": "an owl",
        "des hiboux": "owls",
        "un joujou": "a toy",
        "des joujoux": "toys",
        "un pou": "a louse",
        "des poux": "lice",
        "les chats": "the cats",
        "des livres": "(some) books",
        "des fruits": "(some) fruits",
        "grandes maisons": "big houses",
        "les enfants jouent": "the children are playing",
        "ces chaises": "these chairs",
        "ses amis": "his/her friends",
        "ils parlent": "they are speaking",
        "je les vois": "I see them",
        "aux filles": "to the girls",
        "des gar√ßons": "(some) boys",
        "L'ami": "the friend",
        "Les amis": "the friends",
        "Mon enfant": "my child",
        "Mes enfants": "my children",
        "Une id√©e": "an idea",
        "Des id√©es": "(some) ideas",
        "Le village": "the village",
        "Les villages": "the villages",
        "Le chapeau": "the hat",
        "Les chapeaux": "the hats",
        "un festival": "a festival",
        "des festivals": "festivals",
        bleu: "blue",
        bleus: "blues",
        pneu: "tire",
        pneus: "tires",
      };

      // Initialize: Show the first rule by default

      // Add keyboard navigation

      // Add hover effects to table rows

      // Function to update progress bar (optional enhancement)
      function updateProgressBar(percentage) {
        // This can be used to add a progress indicator at the top of the page
        // For now, it's a placeholder for future enhancement
        console.log(`Scroll progress: ${percentage.toFixed(2)}%`);
      }

      // Function to highlight search terms (optional enhancement)
      function highlightText(searchTerm) {
        const content = document.querySelector(".container");
        const innerHTML = content.innerHTML;
        const searchRegex = new RegExp(searchTerm, "gi");

        if (searchTerm.length > 2) {
          const newHTML = innerHTML.replace(
            searchRegex,
            (match) => `<mark>${match}</mark>`,
          );
          content.innerHTML = newHTML;
        }
      }

      // Add print functionality
      function printPage() {
        window.print();
      }

      // Export to PDF functionality (requires additional library in production)
      function exportToPDF() {
        alert(
          "PDF export feature coming soon! For now, you can use your browser's print function to save as PDF.",
        );
        window.print();
      }

      // Toggle dark mode (optional enhancement for future)
      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        localStorage.setItem(
          "darkMode",
          document.body.classList.contains("dark-mode"),
        );
      }

      // Load dark mode preference
      if (localStorage.getItem("darkMode") === "true") {
        document.body.classList.add("dark-mode");
      }

      // Add translation tooltips to French text
      function addTranslationTooltips() {
        // Find all french-word spans first
        const frenchWordSpans = document.querySelectorAll(".french-word");

        frenchWordSpans.forEach((span) => {
          const text = span.textContent.trim();

          // Check if the text exists in our translations (case-insensitive)
          const translationKey = Object.keys(translations).find(
            (key) => key.toLowerCase() === text.toLowerCase(),
          );

          if (translationKey) {
            // Add hover attributes and class
            span.classList.add("french-text");
            span.setAttribute("data-translation", translations[translationKey]);

            // Create tooltip element
            const tooltip = document.createElement("span");
            tooltip.className = "tooltip";
            tooltip.textContent = translations[translationKey];
            span.appendChild(tooltip);
          }
        });

        // Find all table cells (for tables without french-word spans)
        const tableCells = document.querySelectorAll("td");

        tableCells.forEach((cell) => {
          // Skip cells that have audio buttons or already processed french-word spans
          if (
            cell.querySelector(".audio-btn-inline") ||
            cell.querySelector(".french-word")
          ) {
            return;
          }

          const text = cell.textContent.trim();

          // Check if the text exists in our translations (case-insensitive)
          const translationKey = Object.keys(translations).find(
            (key) => key.toLowerCase() === text.toLowerCase(),
          );

          if (translationKey) {
            // Add hover attributes and class
            cell.classList.add("french-text");
            cell.setAttribute("data-translation", translations[translationKey]);

            // Create tooltip element
            const tooltip = document.createElement("span");
            tooltip.className = "tooltip";
            tooltip.textContent = translations[translationKey];
            cell.appendChild(tooltip);
          }
        });

        // Also add to inline French text in paragraphs and lists
        const textElements = document.querySelectorAll("p, li");
        textElements.forEach((element) => {
          let html = element.innerHTML;

          // Look for French text in <strong> or <em> tags
          Object.keys(translations).forEach((french) => {
            const regex = new RegExp(
              `<(strong|em)>\\s*${escapeRegex(french)}\\s*<\/(strong|em)>`,
              "gi",
            );
            const match = html.match(regex);

            if (match) {
              const replacement = `<$1 class="french-text" data-translation="${translations[french]}">${french}<span class="tooltip">${translations[french]}</span></$1>`;
              html = html.replace(regex, replacement);
            }
          });

          element.innerHTML = html;
        });
      }

      // Escape special characters for regex
      function escapeRegex(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
      }

      // Initialize page on load
      document.addEventListener("DOMContentLoaded", function () {
        // Add translation tooltips
        addTranslationTooltips();

        // Set first rule button as active
        const firstButton = document.querySelector(".rule-btn");
        if (firstButton) {
          firstButton.classList.add("active");
        }

        // Load saved theme
        const savedTheme = localStorage.getItem("theme") || "warm";
        if (savedTheme === "light") {
          document.body.classList.add("light-mode");
        } else if (savedTheme === "dark") {
          document.body.classList.add("dark-mode");
        }

        // Add theme toggle button listener
        const themeToggle = document.getElementById("themeToggle");
        if (themeToggle) {
          themeToggle.addEventListener("click", toggleTheme);
        }
      });
    </script>
  </body>
</html>
